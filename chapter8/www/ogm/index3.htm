<!DOCTYPE HTML>
<HTML>
<head>	
	<title>Mapper</title>

	<!-- CSS -->
	<link rel="stylesheet" href="./styles/bootstrap.css">
	<link rel="stylesheet" href="./styles/bootstrap-responsive.css">
	<link rel="stylesheet" href="./styles/ev3webui.css">
	
	<!-- JAVASCRIPT -->
 	<script type="text/javascript" src="./js/jquery-2.0.3.min.js" ></script>
	<script type="text/javascript" src="./js/map.js" ></script>
	<script type="text/javascript">

	function fillCanvas(mapObj,data){
		var width = "15";
		var canvas = document.getElementById(mapObj);

		for(y=0;y<data.length;y++){
			for(x=0;x<data[y].length;x++){

	
				if (canvas.getContext) {
					//var color = Math.floor((Math.random()*10)+1);
					var value = data[y][x];
		
					var context = canvas.getContext('2d');

					if(value == 0){
						context.fillStyle = "rgb(150,29,28)"; // red
					}else if (value == 1){
						context.fillStyle = "rgb(22,120,22)"; // dark green
					}if (value == 2){
						context.fillStyle = "rgb(17,90,90)"; // teal
					}else if (value == 3){
						context.fillStyle = "rgb(150,83,28)"; // brown
					}else if (value > 3){
						context.fillStyle = "rgb(150,83,28)"; // brown
					//}else{
						//context.fillStyle = "rgb(29,150,28)"; // light green
					}
		
					context.fillRect(x*width,y*width,width,width);
				}
			}
		}
	}

	function fillCanvas2(mapObj,data){
		var width = "15";
		var canvas = document.getElementById(mapObj);

		for(y=0;y<data.length;y++){
			for(x=0;x<data[y].length;x++){

	
				if (canvas.getContext) {
					var color = Math.floor((Math.random()*10)+1);
					var value = data[y][x];
		
					var context = canvas.getContext('2d');

					if(value <= 0){
						context.fillStyle = "rgb(150,29,28)"; // red
					}else if (value > 0){
						context.fillStyle = "rgb(150,83,28)"; // brown
					//}else{
						//context.fillStyle = "rgb(29,150,28)"; // light green
					}

					context.fillRect(x*width,y*width,width,width);
					
				}
			}
		}

		//alert(counter)

	}

	function fillCanvasFixedColor(mapObj,data,color){
		var width = "15";
		var canvas = document.getElementById(mapObj);

		for(y=0;y<data.length;y++){
			for(x=0;x<data[y].length;x++){

				if (canvas.getContext) {
					//var color = Math.floor((Math.random()*10)+1);
					var cell = data[y][x];
		
					var context = canvas.getContext('2d');

					if(cell == 0){
						context.fillStyle = "rgb(150,29,28)"; // red
					}else if(cell == 1){
						context.fillStyle = color; // Yellow
					}
		
					context.fillRect(x*width,y*width,width,width);
				}
			}
		}
	}

	$(function() {
		fillCanvas2("mapM",mapM);
		fillCanvas("mapC",mapC);
		fillCanvasFixedColor("mapP",mapP,"rgb(255,255,0)");
		fillCanvasFixedColor("mapR",mapR,"rgb(255,155,0)");
	});
    </script>
</head>
<body>
	<!-- Main Container-->
	<div class="container">
	
		<!-- HEADER 
		<div class="navbar navbar-inverse navbar-fixed-top nav-separator">
		    <div class="navbar-inner">
		        <div class="container">
		            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
		                <span class="icon-bar"></span>
		                <span class="icon-bar"></span>
		                <span class="icon-bar"></span>
		            </button>
		            <a class="brand" href="#">EV3 Web UI</a>
		            <div class="nav-collapse collapse">
		                <ul class="nav">
		                    <li class="active"><a href="#">Main</a></li>
		                </ul>
		            </div>
		        </div>
		    </div>
		</div>
-->
		<!-- END HEADER -->

		<div class="bodyContent">
	
			<div class="row-fluid">
				<div class="span4">
					<h4>M</h4>
					<p>
M[xmax,ymax] is an  array  of  integers, inialised to  0  with xmax being the maximum x coordinate, ymax  being  the  maximum  y  coordinate - is will be the  map.
					</p>
				</div>
				<div class="span4">
					<h4>C</h4>
					<p>
C[xmax,ymax] is a acorresponding array counting	the number of observations  we have  made of  each cell - initialised to 0.	

					</p>
				</div>
				<div class="span4">
					<h4>OGM</h4>
					<p>
If M[x,y] > 0 and C[x,y] > 0 then [x,y] is "probably occupied"<br />
If M[x,y] < 0 and C[x,y] > 0 then [x,y] is "probably unoccupied"	
					</p>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span4">
					<canvas id="mapM" width="300" height="300"></canvas>
				</div>
				<div class="span4">
					<canvas id="mapC" width="300" height="300"></canvas>
				</div>
				<div class="span4">
					<canvas id="mapOGM" width="300" height="300"></canvas>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span4">
					<h4>P</h4>
					<p>
					Pose map
					</p>
				</div>
				<div class="span4">
					<h4>R</h4>
					<p>
					Simulated map. This map is used to test algorithm.
					</p>
				</div>
				<div class="span4">

				</div>
			</div>
			<div class="row-fluid">
				<div class="span4">
					<canvas id="mapP" width="300" height="300"></canvas>
				</div>
				<div class="span4">
					<canvas id="mapR" width="300" height="300"></canvas>
				</div>
				<div class="span4">
					
				</div>
			</div>
		</div>
	</div>
</body>
</html>
